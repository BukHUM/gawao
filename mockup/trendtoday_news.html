<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trend Today - ทันทุกกระแสโลก</title>

    <!-- Google Fonts: Prompt -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Prompt:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Prompt', 'sans-serif'],
                    },
                    colors: {
                        primary: '#1a1a1a',
                        accent: '#FF4500', // สีส้มแดงสำหรับจุดสนใจ
                        'news-tech': '#3B82F6',
                        'news-ent': '#EC4899',
                        'news-fin': '#10B981',
                        'news-sport': '#F59E0B',
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar for Categories */
        .hide-scroll::-webkit-scrollbar {
            display: none;
        }

        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Enhanced Article Card Hover */
        .article-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .article-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        .article-card:hover .article-img {
            transform: scale(1.08);
        }

        /* Smooth Image Loading */
        .article-img {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Line Clamp Utilities */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Sticky Sidebar */
        @media (min-width: 1024px) {
            .sticky-sidebar {
                position: sticky;
                top: 100px;
                max-height: calc(100vh - 120px);
                overflow-y: auto;
            }
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Focus States for Accessibility */
        a:focus-visible,
        button:focus-visible {
            outline: 2px solid #FF4500;
            outline-offset: 2px;
            border-radius: 4px;
        }

        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s ease-in-out infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        /* Category Badge Animation */
        .category-badge {
            transition: all 0.2s ease;
        }

        .category-badge:hover {
            transform: scale(1.05);
        }

        /* Trending Tag Animation */
        .trending-tag {
            transition: all 0.2s ease;
        }

        .trending-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Hero Section Overlay Gradient */
        .hero-overlay {
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.5) 50%, transparent 100%);
        }

        /* Button Hover Effect */
        .btn-primary {
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        /* Mobile Menu Animation */
        #mobile-menu {
            transition: all 0.3s ease-in-out;
        }

        /* Popular Number Animation */
        .popular-number {
            transition: all 0.3s ease;
        }

        .popular-item:hover .popular-number {
            transform: scale(1.1);
        }

        /* Newsletter Input Focus */
        .newsletter-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 69, 0, 0.2);
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 font-sans antialiased flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm" role="navigation" aria-label="Main navigation">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="#" class="flex-shrink-0 flex items-center gap-2" aria-label="Trend Today Home">
                        <div
                            class="w-8 h-8 bg-black text-white flex items-center justify-center rounded font-bold text-lg">
                            T</div>
                        <span class="font-bold text-2xl tracking-tight text-gray-900">Trend<span
                                class="text-accent">Today</span></span>
                    </a>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#" class="text-gray-900 font-medium hover:text-accent transition-colors duration-200 px-2 py-1 rounded-md hover:bg-gray-50">หน้าแรก</a>
                    <a href="#" class="text-gray-500 hover:text-gray-900 transition-colors duration-200 px-2 py-1 rounded-md hover:bg-gray-50">การเมือง</a>
                    <a href="#" class="text-gray-500 hover:text-gray-900 transition-colors duration-200 px-2 py-1 rounded-md hover:bg-gray-50">เศรษฐกิจ</a>
                    <a href="trendtoday_category.html"
                        class="text-gray-500 hover:text-gray-900 transition-colors duration-200 px-2 py-1 rounded-md hover:bg-gray-50">เทคโนโลยี</a>
                    <a href="#" class="text-gray-500 hover:text-gray-900 transition-colors duration-200 px-2 py-1 rounded-md hover:bg-gray-50">บันเทิง</a>
                    <button class="text-gray-500 hover:text-accent transition-colors duration-200 p-2 rounded-md hover:bg-gray-50"
                        onclick="window.location.href='trendtoday_search.html'" aria-label="ค้นหาข่าว">
                        <i class="fas fa-search text-lg"></i>
                    </button>
                </div>

                <!-- Mobile menu button -->
                <div class="flex items-center md:hidden">
                    <button onclick="toggleMobileMenu()" aria-label="Toggle menu" aria-expanded="false" id="mobile-menu-button"
                        class="text-gray-500 hover:text-gray-900 focus:outline-none p-2 rounded-md hover:bg-gray-50">
                        <i class="fas fa-bars text-2xl" id="menu-icon"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 w-full shadow-lg" role="menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-black bg-gray-50" role="menuitem">หน้าแรก</a>
                <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" role="menuitem">การเมือง</a>
                <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" role="menuitem">เศรษฐกิจ</a>
                <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" role="menuitem">เทคโนโลยี</a>
                <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" role="menuitem">บันเทิง</a>
            </div>
        </div>
    </nav>

    <!-- Trending Tags (Horizontal Scroll) -->
    <div class="bg-white shadow-sm py-3 border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center gap-3">
                <span class="text-accent font-bold whitespace-nowrap text-sm flex items-center">
                    <i class="fas fa-bolt mr-1 animate-pulse"></i>
                    มาแรง:
                </span>
                <div class="flex overflow-x-auto hide-scroll gap-2 pb-1 scroll-smooth" id="trending-tags" role="list" aria-label="Trending topics">
                    <!-- Tags will be injected via JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Category Filters -->
    <div class="bg-white border-b border-gray-100 py-4 sticky top-16 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center gap-2 overflow-x-auto hide-scroll scroll-smooth">
                <button class="category-filter active bg-accent text-white px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 hover:bg-orange-600" data-category="all">
                    ทั้งหมด
                </button>
                <button class="category-filter bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 hover:bg-gray-200" data-category="technology">
                    เทคโนโลยี
                </button>
                <button class="category-filter bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 hover:bg-gray-200" data-category="finance">
                    การเงิน
                </button>
                <button class="category-filter bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 hover:bg-gray-200" data-category="entertainment">
                    บันเทิง
                </button>
                <button class="category-filter bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 hover:bg-gray-200" data-category="sports">
                    กีฬา
                </button>
                <button class="category-filter bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 hover:bg-gray-200" data-category="lifestyle">
                    ไลฟ์สไตล์
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- Hero Section (Breaking News) -->
        <section class="mb-12" aria-label="Breaking news">
            <article class="relative rounded-2xl overflow-hidden shadow-xl group cursor-pointer h-96 md:h-[500px] transition-all duration-300 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2"
                onclick="window.location.href='trendtoday_article.html'" 
                onkeypress="if(event.key === 'Enter') window.location.href='trendtoday_article.html'"
                role="article" 
                tabindex="0" 
                aria-label="Breaking news article">
                <img src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=2070&auto=format&fit=crop"
                    alt="Breaking News - AI Technology"
                    class="w-full h-full object-cover transition duration-700 group-hover:scale-105"
                    loading="eager"
                    fetchpriority="high">
                <div class="absolute inset-0 hero-overlay"></div>
                <div class="absolute bottom-0 left-0 p-6 md:p-10 w-full md:w-3/4">
                    <span
                        class="category-badge bg-accent text-white text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wider mb-3 inline-block shadow-lg">
                        <i class="fas fa-fire mr-1"></i>Breaking News</span>
                    <h1 class="text-2xl md:text-4xl lg:text-5xl font-bold text-white leading-tight mb-3 drop-shadow-lg">
                        สรุปสถานการณ์ล่าสุด: ความเปลี่ยนแปลงครั้งใหญ่ของวงการ AI โลก
                    </h1>
                    <p class="text-gray-200 text-sm md:text-base mb-4 line-clamp-2 drop-shadow-md">
                        วิเคราะห์เจาะลึกผลกระทบต่อตลาดแรงงานและเศรษฐกิจไทย
                        หลังบริษัทยักษ์ใหญ่เปิดตัวโมเดลภาษาใหม่ที่มีความสามารถเหนือกว่าเดิม...
                    </p>
                    <div class="flex flex-wrap items-center text-gray-300 text-xs md:text-sm gap-4">
                        <span class="flex items-center"><i class="far fa-clock mr-1.5"></i> 2 ชั่วโมงที่แล้ว</span>
                        <span class="flex items-center"><i class="far fa-user mr-1.5"></i> กองบรรณาธิการ</span>
                        <span class="flex items-center"><i class="far fa-clock mr-1.5"></i> อ่าน 5 นาที</span>
                    </div>
                </div>
            </article>
        </section>

        <!-- Latest News Grid -->
        <div class="flex flex-col lg:flex-row gap-10">

            <!-- Main Feed -->
            <div class="lg:w-2/3">
                <div class="flex justify-between items-end mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 border-l-4 border-accent pl-3">ข่าวล่าสุด</h2>
                    <a href="#" class="text-sm text-gray-500 hover:text-accent">ดูทั้งหมด <i
                            class="fas fa-arrow-right ml-1"></i></a>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="news-grid">
                    <!-- Cards injected by JS -->
                </div>

                <!-- Load More Button -->
                <div class="mt-10 text-center">
                    <button
                        class="bg-white border-2 border-gray-300 text-gray-700 font-medium py-3 px-8 rounded-full hover:bg-gray-50 hover:text-black hover:border-accent transition-all duration-200 shadow-sm hover:shadow-md w-full md:w-auto btn-primary"
                        id="load-more-btn"
                        aria-label="โหลดข่าวเพิ่มเติม">
                        <span class="relative z-10">โหลดข่าวเพิ่มเติม</span>
                        <i class="fas fa-arrow-down ml-2 relative z-10"></i>
                    </button>
                </div>
            </div>

            <!-- Sidebar (Popular/Categories) -->
            <aside class="lg:w-1/3 space-y-8 sticky-sidebar" aria-label="Sidebar content">

                <!-- Popular Posts -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300">
                    <h3 class="font-bold text-xl mb-5 flex items-center gap-2">
                        <i class="fas fa-fire text-accent"></i>
                        ยอดนิยม
                    </h3>
                    <div class="space-y-4" id="popular-list" role="list" aria-label="Popular articles">
                        <!-- Popular items injected via JS -->
                    </div>
                </div>

                <!-- Newsletter -->
                <div class="bg-gradient-to-br from-gray-900 to-gray-800 text-white p-6 rounded-xl relative overflow-hidden shadow-lg">
                    <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-2">
                            <i class="fas fa-envelope text-accent text-xl"></i>
                            <h3 class="font-bold text-xl">ไม่พลาดทุกเทรนด์</h3>
                        </div>
                        <p class="text-gray-300 text-sm mb-4 leading-relaxed">สมัครรับข่าวสารสรุปประจำวันส่งตรงถึงอีเมลของคุณ</p>
                        <form class="space-y-3" onsubmit="event.preventDefault(); handleNewsletterSubmit(event);" aria-label="Newsletter subscription">
                            <input type="email" 
                                placeholder="ใส่อีเมลของคุณ" 
                                required
                                aria-label="Email address"
                                class="newsletter-input w-full px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-200"
                                id="newsletter-email">
                            <button type="submit"
                                class="w-full bg-accent hover:bg-orange-600 text-white font-bold py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
                                <i class="fas fa-paper-plane mr-2"></i>ติดตาม
                            </button>
                        </form>
                    </div>
                    <!-- Decorative elements -->
                    <div class="absolute -bottom-10 -right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl"></div>
                    <div class="absolute -top-10 -left-10 w-24 h-24 bg-accent/20 rounded-full blur-xl"></div>
                </div>

            </aside>
        </div>

    </main>

    <!-- Back to Top Button -->
    <button id="back-to-top" 
            class="fixed bottom-8 right-8 bg-accent text-white p-4 rounded-full shadow-lg hover:bg-orange-600 transition-all duration-300 opacity-0 invisible z-50 hover:scale-110"
            aria-label="กลับขึ้นด้านบน"
            onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <i class="fas fa-arrow-up text-lg"></i>
    </button>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-12 pt-12 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-0 md:gap-8 mb-8">
                <!-- Brand Column -->
                <div class="col-span-1 md:col-span-1 border-b border-gray-100 md:border-none pb-4 md:pb-0 mb-4 md:mb-0">
                    <div class="flex items-center gap-2 mb-4">
                        <div
                            class="w-6 h-6 bg-black text-white flex items-center justify-center rounded font-bold text-sm">
                            T</div>
                        <span class="font-bold text-xl tracking-tight text-gray-900">TrendToday</span>
                    </div>
                    <p class="text-gray-500 text-sm leading-relaxed">
                        เว็บไซต์ข่าวที่นำเสนอเรื่องราวทันสมัย ทันเหตุการณ์ ในรูปแบบที่เข้าใจง่าย สำหรับคนรุ่นใหม่
                    </p>
                </div>

                <!-- Category Column -->
                <div class="border-b border-gray-100 md:border-none">
                    <button class="flex justify-between items-center w-full py-2 md:py-0 text-left md:cursor-default"
                        onclick="toggleFooter(this)">
                        <h4 class="font-bold text-gray-900 md:mb-4">หมวดหมู่</h4>
                        <i
                            class="fas fa-chevron-down text-gray-400 text-xs md:hidden transition-transform duration-300 transform"></i>
                    </button>
                    <ul class="footer-links space-y-2 text-sm text-gray-500 hidden md:block pb-4 md:pb-0">
                        <li><a href="#" class="hover:text-accent">ข่าวในประเทศ</a></li>
                        <li><a href="#" class="hover:text-accent">ต่างประเทศ</a></li>
                        <li><a href="#" class="hover:text-accent">เศรษฐกิจ</a></li>
                        <li><a href="#" class="hover:text-accent">ไลฟ์สไตล์</a></li>
                    </ul>
                </div>

                <!-- About Column -->
                <div class="border-b border-gray-100 md:border-none">
                    <button class="flex justify-between items-center w-full py-2 md:py-0 text-left md:cursor-default"
                        onclick="toggleFooter(this)">
                        <h4 class="font-bold text-gray-900 md:mb-4">เกี่ยวกับเรา</h4>
                        <i
                            class="fas fa-chevron-down text-gray-400 text-xs md:hidden transition-transform duration-300 transform"></i>
                    </button>
                    <ul class="footer-links space-y-2 text-sm text-gray-500 hidden md:block pb-4 md:pb-0">
                        <li><a href="#" class="hover:text-accent">ติดต่อโฆษณา</a></li>
                        <li><a href="#" class="hover:text-accent">ร่วมงานกับเรา</a></li>
                        <li><a href="#" class="hover:text-accent">นโยบายความเป็นส่วนตัว</a></li>
                    </ul>
                </div>

                <!-- Follow Column -->
                <div class="border-b border-gray-100 md:border-none">
                    <button class="flex justify-between items-center w-full py-2 md:py-0 text-left md:cursor-default"
                        onclick="toggleFooter(this)">
                        <h4 class="font-bold text-gray-900 md:mb-4">ติดตามเรา</h4>
                        <i
                            class="fas fa-chevron-down text-gray-400 text-xs md:hidden transition-transform duration-300 transform"></i>
                    </button>
                    <div class="footer-links hidden md:block pb-4 md:pb-0">
                        <div class="flex space-x-4">
                            <a href="#"
                                class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-blue-600 hover:text-white transition"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a href="#"
                                class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-sky-500 hover:text-white transition"><i
                                    class="fab fa-twitter"></i></a>
                            <a href="#"
                                class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-pink-600 hover:text-white transition"><i
                                    class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-100 pt-8 text-center text-sm text-gray-400">
                &copy; 2024 Trend Today News. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // Data Models
        const trendingTags = [
            "#ดิจิทัลวอลเล็ต", "#AIครองโลก", "#ทองคำขึ้น", "#เลือกตั้ง66", "#คอนเสิร์ตColdplay", "#รถEV", "#SoftPower", "#Crypto"
        ];

        const newsData = [
            {
                category: "Technology",
                catColor: "bg-news-tech",
                title: "เปิดตัวชิปประมวลผลรุ่นใหม่ เร็วขึ้น 50% ประหยัดพลังงาน",
                excerpt: "บริษัทเทคโนโลยียักษ์ใหญ่เปิดตัวนวัตกรรมชิปเซ็ตล่าสุด ที่จะเปลี่ยนวงการสมาร์ทโฟนไปตลอดกาล...",
                image: "https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=2070&auto=format&fit=crop",
                date: "30 นาทีที่แล้ว"
            },
            {
                category: "Finance",
                catColor: "bg-news-fin",
                title: "ราคาทองคำพุ่งสูงสุดในรอบ 5 ปี นักวิเคราะห์แนะจับตา",
                excerpt: "ปัจจัยทางเศรษฐกิจโลกส่งผลให้ราคาทองคำดีดตัวสูงขึ้นต่อเนื่อง นักลงทุนแห่ซื้อเก็งกำไร...",
                image: "https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=2064&auto=format&fit=crop",
                date: "1 ชั่วโมงที่แล้ว"
            },
            {
                category: "Entertainment",
                catColor: "bg-news-ent",
                title: "ศิลปิน K-POP ชื่อดังประกาศเวิลด์ทัวร์ กรุงเทพฯ ติดโผ",
                excerpt: "แฟนคลับเตรียมกรี๊ด ศิลปินวงโปรดประกาศตารางทัวร์คอนเสิร์ต พร้อมปักหมุดไทยแลนด์...",
                image: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?q=80&w=2070&auto=format&fit=crop",
                date: "2 ชั่วโมงที่แล้ว"
            },
            {
                category: "Lifestyle",
                catColor: "bg-purple-500",
                title: "เทรนด์การแต่งบ้านปี 2024 เน้นความยั่งยืนและธรรมชาติ",
                excerpt: "ส่องไอเดียแต่งบ้านรับปีใหม่ ที่เน้นวัสดุเป็นมิตรต่อสิ่งแวดล้อมและโทนสีอบอุ่น...",
                image: "https://images.unsplash.com/photo-1616486338812-3dadae4b4f9d?q=80&w=2070&auto=format&fit=crop",
                date: "4 ชั่วโมงที่แล้ว"
            },
            {
                category: "Sports",
                catColor: "bg-news-sport",
                title: "พรีเมียร์ลีกเดือด! ศึกชิงจ่าฝูงโค้งสุดท้ายสุดมันส์",
                excerpt: "วิเคราะห์เกมการแข่งขันสุดสัปดาห์นี้ ใครจะมีโอกาสคว้าถ้วยแชมป์ไปครอง...",
                image: "https://images.unsplash.com/photo-1522770179533-24471fcdba45?q=80&w=2060&auto=format&fit=crop",
                date: "5 ชั่วโมงที่แล้ว"
            },
            {
                category: "Technology",
                catColor: "bg-news-tech",
                title: "ระวังภัยไซเบอร์รูปแบบใหม่ แฝงมากับแอปพลิเคชันยอดฮิต",
                excerpt: "ผู้เชี่ยวชาญเตือนภัยมัลแวร์ตัวใหม่ที่สามารถขโมยข้อมูลธนาคารได้โดยไม่รู้ตัว...",
                image: "https://images.unsplash.com/photo-1563206767-5b18f218e8de?q=80&w=2069&auto=format&fit=crop",
                date: "6 ชั่วโมงที่แล้ว"
            }
        ];

        const popularNews = [
            { id: 1, title: "สรุปดราม่าดาราวัยรุ่น แฮชแท็กพุ่งติดเทรนด์ทวิตเตอร์" },
            { id: 2, title: "วิธีลงทะเบียนรับเงินดิจิทัล 10,000 บาท ฉบับเข้าใจง่าย" },
            { id: 3, title: "รีวิวร้านลับย่านบรรทัดทอง อร่อยจนต้องต่อคิว" },
            { id: 4, title: "อัปเดต iOS เวอร์ชั่นใหม่ มีฟีเจอร์อะไรน่าสนใจบ้าง" }
        ];

        // Functions to Render Content
        function renderTags() {
            const container = document.getElementById('trending-tags');
            container.innerHTML = ''; // Clear existing
            trendingTags.forEach(tag => {
                const badge = document.createElement('a');
                badge.href = "#";
                badge.className = "trending-tag inline-block bg-gray-100 hover:bg-accent hover:text-white text-gray-700 text-xs px-4 py-2 rounded-full whitespace-nowrap transition-all duration-200 font-medium";
                badge.innerText = tag;
                badge.setAttribute('role', 'listitem');
                badge.setAttribute('aria-label', `Trending topic: ${tag}`);
                container.appendChild(badge);
            });
        }

        function renderNewsGrid(filterCategory = 'all') {
            const container = document.getElementById('news-grid');
            container.innerHTML = ''; // Clear existing
            
            const filteredNews = filterCategory === 'all' 
                ? newsData 
                : newsData.filter(news => {
                    const categoryMap = {
                        'technology': 'Technology',
                        'finance': 'Finance',
                        'entertainment': 'Entertainment',
                        'sports': 'Sports',
                        'lifestyle': 'Lifestyle'
                    };
                    return news.category === categoryMap[filterCategory];
                });

            if (filteredNews.length === 0) {
                container.innerHTML = `
                    <div class="col-span-2 text-center py-12">
                        <i class="fas fa-newspaper text-gray-300 text-5xl mb-4"></i>
                        <p class="text-gray-500">ไม่พบข่าวในหมวดหมู่นี้</p>
                    </div>
                `;
                return;
            }

            filteredNews.forEach(news => {
                const card = document.createElement('article');
                card.className = "article-card bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 hover:shadow-md transition duration-300 flex flex-col cursor-pointer";
                card.onclick = () => window.location.href = 'trendtoday_article.html';
                card.setAttribute('role', 'article');
                card.setAttribute('aria-label', news.title);
                card.innerHTML = `
                    <div class="relative overflow-hidden h-48">
                        <img src="${news.image}" 
                             alt="${news.title}" 
                             class="article-img w-full h-full object-cover transition duration-500"
                             loading="lazy"
                             decoding="async">
                        <span class="category-badge absolute top-4 left-4 ${news.catColor} text-white text-[10px] font-bold px-3 py-1.5 rounded-full uppercase tracking-wide shadow-lg">
                            ${translateCategory(news.category)}
                        </span>
                    </div>
                    <div class="p-5 flex flex-col flex-grow">
                        <h3 class="text-lg font-bold text-gray-900 mb-2 leading-snug line-clamp-2 hover:text-accent cursor-pointer transition-colors">
                            ${news.title}
                        </h3>
                        <p class="text-gray-500 text-sm mb-4 line-clamp-2 flex-grow font-light leading-relaxed">
                            ${news.excerpt}
                        </p>
                        <div class="flex justify-between items-center text-xs text-gray-400 border-t border-gray-50 pt-3 mt-auto">
                            <span class="font-medium text-gray-500 flex items-center">
                                <i class="far fa-user mr-1"></i>กองบก.
                            </span>
                            <span class="flex items-center">
                                <i class="far fa-clock mr-1"></i>${news.date}
                            </span>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function renderPopularNews() {
            const container = document.getElementById('popular-list');
            container.innerHTML = ''; // Clear existing
            popularNews.forEach((news, index) => {
                const item = document.createElement('a');
                item.href = "#";
                item.className = "popular-item flex gap-4 items-start group p-2 rounded-lg hover:bg-gray-50 transition-colors duration-200";
                item.setAttribute('role', 'listitem');
                item.setAttribute('aria-label', `Popular article ${index + 1}: ${news.title}`);
                item.innerHTML = `
                    <span class="popular-number text-2xl font-bold text-gray-200 group-hover:text-accent transition-all duration-300 flex-shrink-0">0${index + 1}</span>
                    <div class="flex-grow">
                        <h4 class="text-sm font-medium text-gray-700 group-hover:text-accent transition-colors line-clamp-2 leading-snug">
                            ${news.title}
                        </h4>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        function translateCategory(cat) {
            const map = {
                'Technology': 'เทคโนโลยี',
                'Finance': 'การเงิน',
                'Entertainment': 'บันเทิง',
                'Lifestyle': 'ไลฟ์สไตล์',
                'Sports': 'กีฬา'
            };
            return map[cat] || cat;
        }

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const button = document.getElementById('mobile-menu-button');
            const icon = document.getElementById('menu-icon');
            const isHidden = menu.classList.contains('hidden');
            
            if (isHidden) {
                menu.classList.remove('hidden');
                button.setAttribute('aria-expanded', 'true');
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                menu.classList.add('hidden');
                button.setAttribute('aria-expanded', 'false');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }

        // Category Filter
        function initCategoryFilters() {
            const filters = document.querySelectorAll('.category-filter');
            filters.forEach(filter => {
                filter.addEventListener('click', function() {
                    // Remove active class from all filters
                    filters.forEach(f => {
                        f.classList.remove('active', 'bg-accent', 'text-white');
                        f.classList.add('bg-gray-100', 'text-gray-700');
                    });
                    
                    // Add active class to clicked filter
                    this.classList.add('active', 'bg-accent', 'text-white');
                    this.classList.remove('bg-gray-100', 'text-gray-700');
                    
                    // Filter news
                    const category = this.getAttribute('data-category');
                    renderNewsGrid(category);
                    
                    // Smooth scroll to news grid
                    document.getElementById('news-grid').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                });
            });
        }

        // Newsletter Submit Handler
        function handleNewsletterSubmit(event) {
            const email = document.getElementById('newsletter-email').value;
            if (email) {
                // Simulate API call
                const button = event.target.querySelector('button[type="submit"]');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>กำลังส่ง...';
                button.disabled = true;
                
                setTimeout(() => {
                    alert('ขอบคุณที่สมัครรับข่าวสาร! เราจะส่งอีเมลยืนยันให้คุณเร็วๆ นี้');
                    event.target.reset();
                    button.innerHTML = originalText;
                    button.disabled = false;
                }, 1500);
            }
        }

        // Load More Button
        function initLoadMore() {
            const loadMoreBtn = document.getElementById('load-more-btn');
            if (loadMoreBtn) {
                loadMoreBtn.addEventListener('click', function() {
                    // Simulate loading
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>กำลังโหลด...';
                    this.disabled = true;
                    
                    setTimeout(() => {
                        // In a real app, this would load more news
                        alert('โหลดข่าวเพิ่มเติมแล้ว!');
                        this.innerHTML = originalText;
                        this.disabled = false;
                    }, 1000);
                });
            }
        }

        // Footer Accordion
        function toggleFooter(button) {
            // Only active on mobile
            if (window.innerWidth >= 768) return;

            const content = button.nextElementSibling;
            const icon = button.querySelector('i');

            content.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }

        // Intersection Observer for lazy loading images
        function initLazyLoading() {
            const images = document.querySelectorAll('img[loading="lazy"]');
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.classList.add('opacity-100');
                        observer.unobserve(img);
                    }
                });
            });

            images.forEach(img => {
                img.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                imageObserver.observe(img);
            });
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('mobile-menu');
            const button = document.getElementById('mobile-menu-button');
            if (menu && !menu.contains(event.target) && !button.contains(event.target)) {
                if (!menu.classList.contains('hidden')) {
                    toggleMobileMenu();
                }
            }
        });

        // Back to Top Button
        function initBackToTop() {
            const backToTopBtn = document.getElementById('back-to-top');
            if (backToTopBtn) {
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) {
                        backToTopBtn.classList.remove('opacity-0', 'invisible');
                        backToTopBtn.classList.add('opacity-100', 'visible');
                    } else {
                        backToTopBtn.classList.add('opacity-0', 'invisible');
                        backToTopBtn.classList.remove('opacity-100', 'visible');
                    }
                });
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderTags();
            renderNewsGrid();
            renderPopularNews();
            initCategoryFilters();
            initLoadMore();
            initLazyLoading();
            initBackToTop();
        });
    </script>
</body>

</html>